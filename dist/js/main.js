!function(e){"function"==typeof define&&define.amd?define(e):e()}((function(){"use strict";var e=io(),t=function(e){var t=document.getElementById("state-text"),n=document.getElementById("send-state"),s=document.getElementById("states"),o=document.getElementById("username"),i=document.getElementById("change-username"),a=document.getElementById("all-states"),c=document.getElementById("login"),d=document.getElementById("wall"),l=document.getElementById("user"),u=document.getElementById("password"),m=document.getElementById("do-login"),r=document.getElementById("show-users"),g=document.getElementById("most-active-users");d.style.display="none",n.addEventListener("click",(function(){var n={stateText:t.value,status:1};n.stateText.length>0&&e.emit("sendState",n)})),m.addEventListener("click",(function(){l.value.length>0&&u.value.length>0&&e.emit("doLogin",{user:l.value,password:u.value})})),i.addEventListener("click",(function(){console.log(o.value),e.emit("change_username",{username:o.value})}));return r.addEventListener("click",(function(){e.emit("sendMostStatusUsers")})),{updateClientData:function(e){console.log(2,e)},sendLike:function(t){var n={message:t};e.emit("sendLike",n)},sendDelete:function(t,n){var s={id:t,text:n,status:0};e.emit("deleteMsg",s)},states:s,allStates:a,wall:d,loginForm:c,showUsers:r,mostActiveUsers:g}}(e);window.ui=t,function(e,t){e.on("broadcastState",(function(e){t.states.innerHTML="",e.forEach((function(e){t.states.innerHTML+="\n        <div>\n          <p>".concat(e.username," - ").concat(e.text,"</p>\n          <p>likes ").concat(e.likes,"</p>\n          <button onClick=\"window.ui.sendLike('").concat(e.text,"')\">Like</button>\n           <button onClick=\"window.ui.sendDelete('").concat(e.id,"', '").concat(e.text,"')\">Delete</button>\n        </div>\n      ")}))})),e.on("successLogin",(function(e){t.updateClientData(e),t.loginForm.style.display="none",t.wall.style.display="block"})),e.on("statusUsers",(function(e){e.forEach((function(e){t.mostActiveUsers.innerHTML+="\n        <div>\n          <li>".concat(e.username,"</li>\n        </div>\n      ")}))}))}(e,t)}));

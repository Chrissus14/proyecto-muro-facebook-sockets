!function(e){"function"==typeof define&&define.amd?define(e):e()}((function(){"use strict";var e=io(),t=function(e){var t=document.getElementById("state-text"),n=document.getElementById("send-state"),o=document.getElementById("states"),a=document.getElementById("username"),i=document.getElementById("change-username"),l=document.getElementById("all-states"),s=document.getElementById("login"),d=document.getElementById("wall"),c=document.getElementById("user"),u=document.getElementById("password"),m=document.getElementById("do-login");d.style.display="none",n.addEventListener("click",(function(){var n={stateText:t.value,status:1};n.stateText.length>0&&e.emit("sendState",n)})),m.addEventListener("click",(function(){c.value.length>0&&u.value.length>0&&e.emit("doLogin",{user:c.value,password:u.value})})),i.addEventListener("click",(function(){console.log(a.value),e.emit("change_username",{username:a.value})}));return{updateClientData:function(e){console.log(2,e)},sendLike:function(t){var n={message:t};e.emit("sendLike",n)},sendDelete:function(t,n){var o={id:t,text:n,status:0};e.emit("deleteMsg",o)},states:o,allStates:l,wall:d,loginForm:s}}(e);window.ui=t,function(e,t){e.on("broadcastState",(function(e){t.states.innerHTML="",e.forEach((function(e){t.states.innerHTML+="\n        <div>\n          <p>".concat(e.username," - ").concat(e.text,"</p>\n          <p>likes ").concat(e.likes,"</p>\n          <button onClick=\"window.ui.sendLike('").concat(e.text,"')\">Like</button>\n           <button onClick=\"window.ui.sendDelete('").concat(e.id,"', '").concat(e.text,"')\">Delete</button>\n        </div>\n      ")}))})),e.on("successLogin",(function(e){t.updateClientData(e),t.loginForm.style.display="none",t.wall.style.display="block"}))}(e,t)}));
